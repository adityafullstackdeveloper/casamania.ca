<template>
    <div>
        <!-- Breakcrumbs -->
        <section class="breadcrumb-section bg-theme-light py-5">
            <div class="container p-0">
                <div class="row py-0">
                    <div class="col-12">
                        <h2 class="theme-title text-start">Contact Us</h2>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item ps-0">
                                    <router-link to="/"
                                        ><img
                                            src="/assets/images/icons/Mask Group.svg"
                                            width="14"
                                            class="img-fluid align-middle pb-1"
                                            alt=""
                                        />
                                        Home</router-link
                                    >
                                </li>
                                <li class="breadcrumb-item">
                                    <router-link to="/contact-us"
                                        >Contact Us</router-link
                                    >
                                </li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </section>
        <!-- Breakcrumbs -->

        <div class="bg-light">
            <div class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-12 py-5">
                            <div class="head text-center">
                                <h2 class="text-color fw-bold text-uppercase">
                                    We're always eager to hear from you!
                                </h2>
                                <span>
                                    We provide sale and lease of real estate as
                                    part of a cooperative selling system.
                                </span>
                            </div>
                            <div class="content">
                                <div class="row">
                                    <div class="col-md-1"></div>
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div
                                                class="
                                                    col-lg-4 col-md-6 col-sm-6
                                                    mt-4
                                                "
                                            >
                                                <div
                                                    class="
                                                        d-flex
                                                        align-items-center
                                                        sm-box
                                                    "
                                                >
                                                    <div class="icons pe-3">
                                                        <img
                                                            v-lazy="{
                                                                src: './assets/images/icons/contact/home.png',
                                                            }"
                                                            alt="ICON"
                                                            class="about-icon"
                                                        />
                                                    </div>
                                                    <div class="content">
                                                        <div
                                                            class="
                                                                h6
                                                                text-color
                                                                m-0
                                                                p-0
                                                            "
                                                        >
                                                            ADDRESS
                                                        </div>
                                                        <span
                                                            class="text-muted"
                                                        >
                                                            81 Zenway Boulevard
                                                            #25 Woodbridge,
                                                            Ontario L4H 0S5
                                                            Canada
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div
                                                class="
                                                    col-lg-4 col-md-6 col-sm-6
                                                    mt-4
                                                "
                                            >
                                                <div
                                                    class="
                                                        d-flex
                                                        align-items-center
                                                        sm-box
                                                    "
                                                >
                                                    <div class="icons pe-3">
                                                        <img
                                                            v-lazy="{
                                                                src: './assets/images/icons/contact/contact.png',
                                                            }"
                                                            alt="ICON"
                                                            class="about-icon"
                                                        />
                                                    </div>
                                                    <div class="content">
                                                        <div
                                                            class="
                                                                h6
                                                                text-color
                                                                m-0
                                                                p-0
                                                            "
                                                        >
                                                            CONTACT US
                                                        </div>
                                                        <span
                                                            class="text-muted"
                                                        >
                                                            <span
                                                                >Office: (905)
                                                                265-2200
                                                            </span>
                                                            <br />
                                                            <span
                                                                >Fax: (905)
                                                                265-2203</span
                                                            >
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div
                                                class="
                                                    col-lg-4 col-md-6 col-sm-6
                                                    mt-4
                                                "
                                            >
                                                <div
                                                    class="
                                                        d-flex
                                                        align-items-center
                                                        sm-box
                                                    "
                                                >
                                                    <div class="icons pe-3">
                                                        <img
                                                            v-lazy="{
                                                                src: './assets/images/icons/contact/message.png',
                                                            }"
                                                            alt="ICON"
                                                            class="about-icon"
                                                        />
                                                    </div>
                                                    <div class="content">
                                                        <div
                                                            class="
                                                                h6
                                                                text-color
                                                                m-0
                                                                p-0
                                                            "
                                                        >
                                                            FOLLOW US
                                                        </div>
                                                        <span
                                                            class="text-muted"
                                                        >
                                                            <a
                                                                class="
                                                                    social-icon
                                                                "
                                                                href="https://www.facebook.com/remaxmillenniumrealestate/"
                                                                target="_blank"
                                                            >
                                                                <i
                                                                    class="
                                                                        fab
                                                                        fa-facebook
                                                                    "
                                                                ></i>
                                                            </a>
                                                            <a
                                                                class="
                                                                    social-icon
                                                                "
                                                                href="https://www.facebook.com/remaxmillenniumrealestate/"
                                                                target="_blank"
                                                            >
                                                                <i
                                                                    class="
                                                                        fab
                                                                        fa-twitter
                                                                    "
                                                                ></i>
                                                            </a>
                                                            <a
                                                                class="
                                                                    social-icon
                                                                "
                                                                href="https://www.instagram.com/remaxmillennium/"
                                                                target="_blank"
                                                            >
                                                                <i
                                                                    class="
                                                                        fab
                                                                        fa-instagram
                                                                    "
                                                                ></i>
                                                            </a>
                                                            <a
                                                                class="
                                                                    social-icon
                                                                "
                                                                href="https://www.youtube.com/channel/UCDBISvKl8ipeM1dFFKOAH4w"
                                                                target="_blank"
                                                            >
                                                                <i
                                                                    class="
                                                                        fab
                                                                        fa-youtube
                                                                    "
                                                                ></i>
                                                            </a>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="iframe">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2880.820525916818!2d-79.62704548428827!3d43.776584252460985!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b24cad9d9dda3%3A0xc4e46c71c1d31227!2s81%20Zenway%20Blvd%2C%20Woodbridge%2C%20ON%20L4H%200S5%2C%20Canada!5e0!3m2!1sen!2sin!4v1637925709966!5m2!1sen!2sin"
                width="100%"
                height="460"
                style="border: 0"
                allowfullscreen=""
                loading="lazy"
            ></iframe>
        </div>

        <div class="bg-light">
            <div class="col-12">
                <div class="container">
                    <div class="row">
                        <div class="col-12 py-5">
                            <div class="head text-center">
                                <h2 class="text-color fw-bold text-uppercase">
                                    Send Us Your Query
                                </h2>
                                <span>
                                    We are open 24x7, Feel free to write.
                                </span>
                            </div>
                            <div class="content">
                                <div class="row">
                                    <div class="col-md-1"></div>
                                    <div class="col-md-10">
                                        <div class="row">
                                            <div class="col-12">
                                                <form
                                                    @submit.prevent="
                                                        saveContact
                                                    "
                                                    class="row form-outer"
                                                >
                                                    <div class="col-sm-6 mt-4">
                                                        <label>Name *</label>
                                                        <input
                                                            v-model="form.name"
                                                            type="text"
                                                            class="
                                                                form-control
                                                                rounded-0
                                                                py-3
                                                            "
                                                            placeholder="Enter your name"
                                                        />
                                                        <span
                                                            class="
                                                                fw-light
                                                                small
                                                                text-danger
                                                            "
                                                            v-if="
                                                                eForm &&
                                                                eForm.name
                                                            "
                                                            v-text="
                                                                eForm.name.toString()
                                                            "
                                                        ></span>
                                                    </div>
                                                    <div class="col-sm-6 mt-4">
                                                        <label>Email * </label>
                                                        <input
                                                            v-model="form.email"
                                                            type="text"
                                                            class="
                                                                form-control
                                                                rounded-0
                                                                py-3
                                                            "
                                                            placeholder="Enter your email"
                                                        />
                                                        <span
                                                            class="
                                                                fw-light
                                                                small
                                                                text-danger
                                                            "
                                                            v-if="
                                                                eForm &&
                                                                eForm.email
                                                            "
                                                            v-text="
                                                                eForm.email.toString()
                                                            "
                                                        ></span>
                                                    </div>
                                                    <div class="col-sm-12 mt-4">
                                                        <label>Message *</label>
                                                        <textarea
                                                            v-model="
                                                                form.message
                                                            "
                                                            class="
                                                                form-control
                                                                rounded-0
                                                            "
                                                            rows="6"
                                                            placeholder="Your message..."
                                                        ></textarea>
                                                        <span
                                                            class="
                                                                fw-light
                                                                small
                                                                text-danger
                                                            "
                                                            v-if="
                                                                eForm &&
                                                                eForm.message
                                                            "
                                                            v-text="
                                                                eForm.message.toString()
                                                            "
                                                        ></span>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-12
                                                            mt-3
                                                            text-end
                                                        "
                                                    >
                                                        <button
                                                            class="
                                                                btn
                                                                btn-theme-color
                                                                py-3
                                                                px-5
                                                                rounded-0
                                                            "
                                                            :disabled="sForm"
                                                        >
                                                            <span v-if="!sForm"
                                                                >Save</span
                                                            >
                                                            <span v-else
                                                                >Saving...</span
                                                            >
                                                        </button>
                                                    </div>
                                                    <div
                                                        class="
                                                            col-12
                                                            mt-2
                                                            text-end
                                                        "
                                                    >
                                                        <span
                                                            :class="rFormClass"
                                                            v-text="rForm"
                                                        >
                                                        </span>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import Loader from "../../components/commonComponents/Loader.vue";
export default {
    components: { Loader },
    data() {
        return {
            form: {
                name: "",
                email: "",
                contact: "",
                message: "",
            },
            eForm: null,
            sForm: false,

            rForm: "",
            rFormClass: "",
        };
    },
    mounted() {
        this.checkUser();
    },
    methods: {
        checkUser() {
            if (this.$store.state.auth_user) {
                this.form.name = this.$store.state.auth_user.name;
                this.form.email = this.$store.state.auth_user.email;
                this.form.contact = this.$store.state.auth_user.contact;
            }
        },

        async saveContact() {
            const self = this;
            self.sForm = true;
            self.eForm = {};
            self.rForm = "Please wait...";
            self.rFormClass = "text-muted";
            await axios
                .post("/api/user/contact", self.form)
                .then((res) => {
                    self.sForm = false;
                    self.form = {};
                    self.rForm = res.data.message;
                    self.rFormClass = "text-success";
                })
                .catch((err) => {
                    self.sForm = false;

                    self.eForm = err.response.data.error;
                    self.rForm = err.response.data.message;
                    self.rFormClass = "text-danger";
                });
        },
    },
};
</script>

<style scoped>
.sm-box {
    border: 1px solid #d0d0d0;
    padding: 12px;
    border-radius: 8px;
    background: #f5f5f5;
}

.sm-box img {
    height: 95px;
    width: 95px;
}

p {
    line-height: 28px;
    font-size: 18px;
    letter-spacing: 0.5px;
    margin: 0;
    padding: 0;
    color: #6c757d !important;
    font-weight: 300 !important;
}
p strong {
    font-weight: 600 !important;
    letter-spacing: 2px;
}
ol li {
    padding-left: 20px;
    margin-bottom: 10px;
}

.social-icon {
    color: #032646;
}
.social-icon i {
    font-size: 28px;
    display: inline-block;
    margin: 10px 10px 0 0;
}
</style>
